当前路径/root/openresty
软件包 2:tar-1.26-35.el7.x86_64 已安装并且是最新版本
软件包 wget-1.14-18.el7_6.1.x86_64 已安装并且是最新版本
软件包 curl-7.29.0-59.el7_9.2.x86_64 已安装并且是最新版本
软件包 zlib-1.2.7-21.el7_9.x86_64 已安装并且是最新版本
软件包 zlib-devel-1.2.7-21.el7_9.x86_64 已安装并且是最新版本
软件包 pcre-8.32-17.el7.x86_64 已安装并且是最新版本
软件包 pcre-devel-8.32-17.el7.x86_64 已安装并且是最新版本
软件包 1:openssl-1.0.2k-26.el7_9.x86_64 已安装并且是最新版本
软件包 1:openssl-devel-1.0.2k-26.el7_9.x86_64 已安装并且是最新版本
软件包 nss-3.90.0-2.el7_9.x86_64 已安装并且是最新版本
软件包 gcc-4.8.5-44.el7.x86_64 已安装并且是最新版本
软件包 gcc-c++-4.8.5-44.el7.x86_64 已安装并且是最新版本
软件包 1:make-3.82-24.el7.x86_64 已安装并且是最新版本
软件包 lua-5.1.4-15.el7.x86_64 已安装并且是最新版本
CentOS
tar (child): openssl-1.1.1w.tar.gz：无法 open: 没有那个文件或目录
tar (child): Error is not recoverable: exiting now
tar: Child returned status 2
tar: Error is not recoverable: exiting now
CentOS openresty configure
    cycle->connection_n = 40960;
bundle/nginx-1.19.9/src/os/unix/ngx_linux_config.h:#define NGX_LISTEN_BACKLOG        65535
bundle/nginx-1.19.9/src/os/unix/ngx_posix_config.h:#define NGX_LISTEN_BACKLOG  65535
bundle/nginx-1.19.9/src/os/unix/ngx_solaris_config.h:#define NGX_LISTEN_BACKLOG           65535
/bin/sh: 第 0 行:cd: /root/openresty/openresty-1.19.9.2/../openssl-1.1.1w: 没有那个文件或目录
make[2]: *** [/root/openresty/openresty-1.19.9.2/../openssl-1.1.1w/.openssl/include/openssl/ssl.h] 错误 1
make[2]: *** 正在等待未完成的任务....
make[1]: *** [build] 错误 2
make: *** [all] 错误 2
/bin/sh: 第 0 行:cd: /root/openresty/openresty-1.19.9.2/../openssl-1.1.1w: 没有那个文件或目录
make[2]: *** [/root/openresty/openresty-1.19.9.2/../openssl-1.1.1w/.openssl/include/openssl/ssl.h] 错误 1
make[1]: *** [build] 错误 2
make: *** [all] 错误 2
i.sh:行61: /usr/local/openresty/nginx/sbin/nginx: 没有那个文件或目录

Missing dependencies for luasec:
luasocket 

No existing manifest. Attempting to rebuild...
Warning: Failed loading manifest for /root/.luarocks/lib64/luarocks/rocks: /root/.luarocks/lib64/luarocks/rocks/manifest: No such file or directory

Installed rocks:
----------------

lrexlib-pcre
   2.9.2-1 (installed) - /usr/lib64/luarocks/rocks

lua-cjson
   2.1.0.10-1 (installed) - /usr/lib64/luarocks/rocks

lua-resty-http
   0.17.2-0 (installed) - /usr/lib64/luarocks/rocks

luafilesystem
   1.8.0-1 (installed) - /usr/lib64/luarocks/rocks

luasec
   1.3.2-1 (installed) - /usr/lib64/luarocks/rocks

luasocket
   3.1.0-1 (installed) - /usr/lib64/luarocks/rocks

chown: 无法访问"/usr/local/openresty/nginx/conf": 没有那个文件或目录
drwxr-xr-x    7 yzj  yzj    74 9月   4 20:02 kingdee


drwxr-xr-x 3 yzj yzj 18 9月   4 20:02 nginxLog
drwxr-xr-x 2 yzj yzj  6 9月   4 20:02 kdinit
drwxr-xr-x 2 yzj yzj  6 9月   4 20:02 www
drwxr-xr-x 2 yzj yzj  6 9月   4 20:02 static
drwxr-xr-x 4 yzj yzj 30 9月   4 20:02 cache


ls: 无法访问/usr/local/openresty/nginx: 没有那个文件或目录


当前路径/root/openresty
软件包 2:tar-1.26-35.el7.x86_64 已安装并且是最新版本
软件包 wget-1.14-18.el7_6.1.x86_64 已安装并且是最新版本
软件包 curl-7.29.0-59.el7_9.2.x86_64 已安装并且是最新版本
软件包 zlib-1.2.7-21.el7_9.x86_64 已安装并且是最新版本
软件包 zlib-devel-1.2.7-21.el7_9.x86_64 已安装并且是最新版本
软件包 pcre-8.32-17.el7.x86_64 已安装并且是最新版本
软件包 pcre-devel-8.32-17.el7.x86_64 已安装并且是最新版本
软件包 1:openssl-1.0.2k-26.el7_9.x86_64 已安装并且是最新版本
软件包 1:openssl-devel-1.0.2k-26.el7_9.x86_64 已安装并且是最新版本
软件包 nss-3.90.0-2.el7_9.x86_64 已安装并且是最新版本
软件包 nss-devel-3.90.0-2.el7_9.x86_64 已安装并且是最新版本
软件包 gcc-4.8.5-44.el7.x86_64 已安装并且是最新版本
软件包 gcc-c++-4.8.5-44.el7.x86_64 已安装并且是最新版本
软件包 1:make-3.82-24.el7.x86_64 已安装并且是最新版本
软件包 lua-5.1.4-15.el7.x86_64 已安装并且是最新版本
软件包 lua-devel-5.1.4-15.el7.x86_64 已安装并且是最新版本
软件包 luajit-2.0.5-1.20220913.46e62cd.el7.x86_64 已安装并且是最新版本
软件包 luarocks-2.3.0-1.el7.x86_64 已安装并且是最新版本
CentOS
tar (child): openssl-1.1.1w.tar.gz：无法 open: 没有那个文件或目录
tar (child): Error is not recoverable: exiting now
tar: Child returned status 2
tar: Error is not recoverable: exiting now
CentOS openresty configure
    cycle->connection_n = 40960;
bundle/nginx-1.19.9/src/os/unix/ngx_linux_config.h:#define NGX_LISTEN_BACKLOG        65535
bundle/nginx-1.19.9/src/os/unix/ngx_posix_config.h:#define NGX_LISTEN_BACKLOG  65535
bundle/nginx-1.19.9/src/os/unix/ngx_solaris_config.h:#define NGX_LISTEN_BACKLOG           65535
/bin/sh: 第 0 行:cd: /root/openresty/openresty-1.19.9.2/../openssl-1.1.1w: 没有那个文件或目录
make[2]: *** [/root/openresty/openresty-1.19.9.2/../openssl-1.1.1w/.openssl/include/openssl/ssl.h] 错误 1
make[1]: *** [build] 错误 2
make: *** [all] 错误 2
/bin/sh: 第 0 行:cd: /root/openresty/openresty-1.19.9.2/../openssl-1.1.1w: 没有那个文件或目录
make[2]: *** [/root/openresty/openresty-1.19.9.2/../openssl-1.1.1w/.openssl/include/openssl/ssl.h] 错误 1
make[1]: *** [build] 错误 2
make: *** [all] 错误 2
i.sh:行61: /usr/local/openresty/nginx/sbin/nginx: 没有那个文件或目录
Warning: Failed loading manifest for /root/.luarocks/lib64/luarocks/rocks: /root/.luarocks/lib64/luarocks/rocks/manifest: No such file or directory

Installed rocks:
----------------

lrexlib-pcre
   2.9.2-1 (installed) - /usr/lib64/luarocks/rocks

lua-cjson
   2.1.0.10-1 (installed) - /usr/lib64/luarocks/rocks

lua-resty-http
   0.17.2-0 (installed) - /usr/lib64/luarocks/rocks

luafilesystem
   1.8.0-1 (installed) - /usr/lib64/luarocks/rocks

luasec
   1.3.2-1 (installed) - /usr/lib64/luarocks/rocks

luasocket
   3.1.0-1 (installed) - /usr/lib64/luarocks/rocks

chown: 无法访问"/usr/local/openresty/nginx/conf": 没有那个文件或目录
drwxr-xr-x    7 yzj  yzj    74 9月   4 20:16 kingdee


drwxr-xr-x 3 yzj yzj 18 9月   4 20:02 nginxLog
drwxr-xr-x 2 yzj yzj  6 9月   4 20:02 kdinit
drwxr-xr-x 2 yzj yzj  6 9月   4 20:02 www
drwxr-xr-x 2 yzj yzj  6 9月   4 20:02 static
drwxr-xr-x 4 yzj yzj 30 9月   4 20:02 cache


ls: 无法访问/usr/local/openresty/nginx: 没有那个文件或目录


当前路径/root/openresty
软件包 2:tar-1.26-35.el7.x86_64 已安装并且是最新版本
软件包 wget-1.14-18.el7_6.1.x86_64 已安装并且是最新版本
软件包 curl-7.29.0-59.el7_9.2.x86_64 已安装并且是最新版本
软件包 zlib-1.2.7-21.el7_9.x86_64 已安装并且是最新版本
软件包 zlib-devel-1.2.7-21.el7_9.x86_64 已安装并且是最新版本
软件包 pcre-8.32-17.el7.x86_64 已安装并且是最新版本
软件包 pcre-devel-8.32-17.el7.x86_64 已安装并且是最新版本
软件包 1:openssl-1.0.2k-26.el7_9.x86_64 已安装并且是最新版本
软件包 1:openssl-devel-1.0.2k-26.el7_9.x86_64 已安装并且是最新版本
软件包 nss-3.90.0-2.el7_9.x86_64 已安装并且是最新版本
软件包 nss-devel-3.90.0-2.el7_9.x86_64 已安装并且是最新版本
软件包 gcc-4.8.5-44.el7.x86_64 已安装并且是最新版本
软件包 gcc-c++-4.8.5-44.el7.x86_64 已安装并且是最新版本
软件包 1:make-3.82-24.el7.x86_64 已安装并且是最新版本
软件包 lua-5.1.4-15.el7.x86_64 已安装并且是最新版本
软件包 lua-devel-5.1.4-15.el7.x86_64 已安装并且是最新版本
软件包 luajit-2.0.5-1.20220913.46e62cd.el7.x86_64 已安装并且是最新版本
软件包 luarocks-2.3.0-1.el7.x86_64 已安装并且是最新版本
CentOS
CentOS openresty configure
    cycle->connection_n = 40960;
bundle/nginx-1.19.9/src/os/unix/ngx_linux_config.h:#define NGX_LISTEN_BACKLOG        65535
bundle/nginx-1.19.9/src/os/unix/ngx_posix_config.h:#define NGX_LISTEN_BACKLOG  65535
bundle/nginx-1.19.9/src/os/unix/ngx_solaris_config.h:#define NGX_LISTEN_BACKLOG           65535
ar: creating apps/libapps.a
crypto/rand/drbg_ctr.c: In function 'drbg_ctr_generate':
crypto/rand/drbg_ctr.c:367:9: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
         ctr32 = GETU32(ctr->V + 12) + blocks;
         ^
crypto/rand/drbg_ctr.c:377:9: warning: dereferencing type-punned pointer will break strict-aliasing rules [-Wstrict-aliasing]
         PUTU32(ctr->V + 12, ctr32);
         ^
ar: creating libcrypto.a
ar: creating libssl.a
ar: creating test/libtestutil.a
nginx version: openresty/1.19.9.2
built by gcc 4.8.5 20150623 (Red Hat 4.8.5-44) (GCC) 
built with OpenSSL 1.1.1w  11 Sep 2023
TLS SNI support enabled
configure arguments: --prefix=/usr/local/openresty/nginx --with-debug --with-cc-opt='-DNGX_LUA_USE_ASSERT -DNGX_LUA_ABORT_AT_PANIC -O2' --add-module=../ngx_devel_kit-0.3.1 --add-module=../echo-nginx-module-0.62 --add-module=../xss-nginx-module-0.06 --add-module=../ngx_coolkit-0.2 --add-module=../set-misc-nginx-module-0.32 --add-module=../form-input-nginx-module-0.12 --add-module=../encrypted-session-nginx-module-0.08 --add-module=../srcache-nginx-module-0.32 --add-module=../ngx_lua-0.10.20 --add-module=../ngx_lua_upstream-0.07 --add-module=../headers-more-nginx-module-0.33 --add-module=../array-var-nginx-module-0.05 --add-module=../memc-nginx-module-0.19 --add-module=../redis2-nginx-module-0.15 --add-module=../redis-nginx-module-0.3.7 --add-module=../rds-json-nginx-module-0.15 --add-module=../rds-csv-nginx-module-0.09 --add-module=../ngx_stream_lua-0.0.10 --with-ld-opt=-Wl,-rpath,/usr/local/openresty/luajit/lib --with-threads --without-mail_pop3_module --without-mail_imap_module --without-mail_smtp_module --without-select_module --with-http_v2_module --with-http_sub_module --with-http_stub_status_module --with-http_realip_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_ssl_module --with-stream --with-stream_ssl_module --with-stream_realip_module --with-stream_ssl_preread_module --with-openssl=/root/openresty/openresty-1.19.9.2/../openssl-1.1.1w --with-zlib=/root/openresty/openresty-1.19.9.2/../zlib-1.3.1 --with-pcre=/root/openresty/openresty-1.19.9.2/../pcre-8.45 --with-pcre-jit --with-openssl-opt=-g --with-pcre-opt=-g --with-zlib-opt=-g --with-stream
Warning: Failed loading manifest for /root/.luarocks/lib64/luarocks/rocks: /root/.luarocks/lib64/luarocks/rocks/manifest: No such file or directory

Installed rocks:
----------------

lrexlib-pcre
   2.9.2-1 (installed) - /usr/lib64/luarocks/rocks

lua-cjson
   2.1.0.10-1 (installed) - /usr/lib64/luarocks/rocks

lua-resty-http
   0.17.2-0 (installed) - /usr/lib64/luarocks/rocks

luafilesystem
   1.8.0-1 (installed) - /usr/lib64/luarocks/rocks

luasec
   1.3.2-1 (installed) - /usr/lib64/luarocks/rocks

luasocket
   3.1.0-1 (installed) - /usr/lib64/luarocks/rocks

drwxr-xr-x    7 yzj  yzj    74 9月   4 20:32 kingdee


drwxr-xr-x 3 yzj yzj 18 9月   4 20:02 nginxLog
drwxr-xr-x 2 yzj yzj  6 9月   4 20:02 kdinit
drwxr-xr-x 2 yzj yzj  6 9月   4 20:02 www
drwxr-xr-x 2 yzj yzj  6 9月   4 20:02 static
drwxr-xr-x 4 yzj yzj 30 9月   4 20:02 cache


drwxr-xr-x 2 root root 4.0K 9月   4 20:31 sbin
drwxr-xr-x 2 yzj  yzj  4.0K 9月   4 20:31 conf
drwxr-xr-x 2 root root 4.0K 9月   4 20:31 logs
drwxr-xr-x 2 root root 4.0K 9月   4 20:31 html


